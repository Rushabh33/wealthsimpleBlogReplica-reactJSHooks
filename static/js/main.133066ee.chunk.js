(this.webpackJsonphackernews=this.webpackJsonphackernews||[]).push([[0],{289:function(e,t,n){e.exports=n.p+"static/media/placeHolderImage.a0e83bac.svg"},290:function(e,t,n){e.exports=n(723)},295:function(e,t,n){},296:function(e,t,n){},325:function(e,t){},338:function(e,t){},340:function(e,t){},521:function(e,t){},522:function(e,t){},566:function(e,t){},567:function(e,t){},632:function(e,t){},723:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(288),o=n.n(c),l=(n(295),n(296),function(){return r.a.createElement("div",{className:"logo"})}),s=function(){return r.a.createElement("nav",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"wrapper navigation"},r.a.createElement(l,null),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:""},"Magazine")),r.a.createElement("li",{className:"callToAction"},r.a.createElement("a",{href:""},"Start Investing"))))))},i=function(){return r.a.createElement("section",{className:"blogHero"},r.a.createElement(l,null),r.a.createElement("h1",null,"Magazine"),r.a.createElement("h3",null,"stories and ideas from wealthsimple"))},u=n(160),m=n(74),f=n.n(m),d=n(159),p=n(15),E=function(e){var t=e.postInfo,n=e.postDescription;return r.a.createElement("div",{className:"postMetaInfoContainer"},r.a.createElement("span",{className:"postCategory"},"money diaries"),r.a.createElement("h3",{className:"postTitle"},t?t.title:"loading"),r.a.createElement("p",null,n||"loading"))},g=n(289),v=n.n(g),h=function(e){var t=e.postInfo,c=e.isFeaturedPost,o=void 0!==c&&c,l=Object(a.useState)(""),s=Object(p.a)(l,2),i=s[0],u=s[1],m=Object(a.useState)(""),f=Object(p.a)(m,2),d=f[0],g=f[1];Object(a.useEffect)((function(){n(298)({url:"https://cors-anywhere.herokuapp.com/"+t.url},(function(e,t){if(e)return u(v.a),void g("Page Not Found");u(t.data.ogImage.url),g(t.data.ogDescription)}))}),[]);var h=o?"featuredPostImageContainer":"postImageContainer",b=o?"featuredPostInfoContainer":"postInfoContainer";return r.a.createElement("a",{href:t?t.url:null},r.a.createElement("div",{className:h},r.a.createElement("img",{src:i,alt:t.title})),r.a.createElement("div",{className:b},r.a.createElement(E,{postInfo:t,postDescription:d})))},b=function(e){var t=e.featuredPostData;return r.a.createElement("section",{className:"featuredPost"},t?r.a.createElement(h,{postInfo:t,isFeaturedPost:!0}):r.a.createElement("div",null,"loading"))},j=function(e){var t=e.postsToDisplay,n=e.handleScrollLoading,c=e.postsPerPage,o=(e.setLoading,t.length<c),l=Object(a.useState)(t.slice(0,4)),s=Object(p.a)(l,2),i=s[0],u=(s[1],Object(a.useState)(t)),m=Object(p.a)(u,2),f=m[0],d=m[1],E=Object(a.useState)(!1),g=Object(p.a)(E,2),v=g[0],b=g[1],j=Object(a.useState)(!1),O=Object(p.a)(j,2),w=O[0],P=O[1];Object(a.useEffect)((function(){if(v&&!o)return window.addEventListener("scroll",N),function(){return window.removeEventListener("scroll",N)}}),[v]);var N=function(){var e=document.getElementById("categoryBContainer");window.innerHeight+window.scrollY>=e.clientHeight+e.offsetTop&&P(!0)};return Object(a.useEffect)((function(){w&&n()}),[w]),Object(a.useEffect)((function(){d(t),P(!1)}),[t]),r.a.createElement("div",{className:"postCategory"},r.a.createElement("ul",{className:"postList"},(v?f:i).map((function(e){return r.a.createElement("li",{className:"postCard"},r.a.createElement(h,{postInfo:e,isFeaturedPost:!1}))})),w?r.a.createElement("div",{className:"loadingDiv"},"loading"):null),r.a.createElement("div",{id:o?null:"categoryBContainer",className:"readMoreContainer"},r.a.createElement("button",{className:o?"hidden":null,onClick:function(e){e.preventDefault(),b(!0)}},"read more")))},O=function(e){var t=e.listOfPosts,n=e.handleScrollLoading,c=e.postsPerPage,o=e.setLoading,l=Object(a.useState)(t.slice(0,4)),s=Object(p.a)(l,2),i=s[0];s[1];return r.a.createElement("div",null,r.a.createElement(j,{postsToDisplay:i,handleScrollLoading:n,postsPerPage:c,setLoading:o}),r.a.createElement(j,{postsToDisplay:t,handleScrollLoading:n,postsPerPage:c,setLoading:o}))},w=function(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([]),l=Object(p.a)(o,2),s=l[0],i=l[1],m=Object(a.useState)(0),E=Object(p.a)(m,2),g=E[0],v=E[1],h=Object(a.useState)(30),j=Object(p.a)(h,2),w=j[0],P=(j[1],Object(a.useState)(!1)),N=Object(p.a)(P,2),y=(N[0],N[1]),S=Object(a.useState)({}),I=Object(p.a)(S,2),C=I[0],L=I[1],k=function(){var e=Object(d.a)(f.a.mark((function e(t){var n,a,r,c,o,l=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"",a="https://hacker-news.firebaseio.com/v0/".concat(n+"/").concat(t,".json"),r="https://cors-anywhere.herokuapp.com/",e.next=5,fetch(r+a);case 5:return c=e.sent,e.next=8,c.json();case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){k("topstories").then((function(e){return c(e)})),k(21239704,"item").then((function(e){L(e)}))}),[]),Object(a.useEffect)((function(){D()}),[n]);var D=function(){if(s.length<501)return T().then((function(e){i([].concat(Object(u.a)(s),Object(u.a)(e))),v(g+w),y(!1)}))},T=function(){var e=Object(d.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.slice(g,g+w),e.next=3,Promise.all(t.map((function(e){return k(e,"item")})));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"postCategoriesContainer"},s.length?r.a.createElement("div",{className:"wrapper"},r.a.createElement(b,{featuredPostData:C}),r.a.createElement(O,{listOfPosts:s,handleScrollLoading:function(){D()},postsPerPage:w,setLoading:y,featuredPostData:C})):r.a.createElement("div",null,"loading"))},P=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",null,"By using this website, you accept our Terms of Use and Privacy Policy. Copyright 2019 Wealthsimple Technologies Inc.`"))},N=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",null,r.a.createElement(i,null),r.a.createElement(w,null),r.a.createElement(P,null)))},y=function(){return r.a.createElement("div",null,r.a.createElement(s,null),r.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[290,1,2]]]);
//# sourceMappingURL=main.133066ee.chunk.js.map